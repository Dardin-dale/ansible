---
- name: Configure local machine
  hosts: localhost
  become: no

  pre_tasks:
    - name: Update apt cache
      become: yes
      apt:
        update_cache: yes
      when: ansible_os_family == "Debian"
      changed_when: false
      tags:
        - always

  tasks:
    - name: Include sensitive variables
      include_vars:
        dir: vars/sensitive
        ignore_files: 
          - ".example"
          - ".sample"
      tags:
        - always

  roles:
    - role: common
      become: yes
    - role: git
      # Add other roles as needed

  tags:
    - always
